<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>お問い合わせ | 広島大学 廣田研究室</title>
    <meta
      name="description"
      content="広島大学 環境微生物工学研究室（廣田研究室）のお問い合わせフォームです。"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header class="site-header" id="top">
      <div class="container header-inner">
        <p class="header-program">広島大学大学院統合生命科学研究科 生物工学プログラム</p>
        <h1>環境微生物工学研究室（廣田研究室）</h1>
        <p class="header-en">Environmental Microbial Biotechnology Laboratory</p>
      </div>
      <nav class="site-nav" aria-label="グローバルナビゲーション">
        <div class="container nav-inner">
          <button class="menu-btn" type="button" aria-expanded="false" aria-controls="menu-list">
            MENU
          </button>
          <ul id="menu-list">
            <li><a href="index.html#home">HOME</a></li>
            <li><a href="index.html#research">RESEARCH</a></li>
            <li><a href="index.html#presentation">PRESENTATION</a></li>
            <li><a href="index.html#papers">PAPERS</a></li>
            <li><a href="index.html#people">PEOPLE</a></li>
            <li><a href="contact.html">お問い合わせ</a></li>
          </ul>
        </div>
      </nav>
    </header>

    <main class="contact-page">
      <section class="section container">
        <header class="section-head">
          <p>Contact Form</p>
          <h2>お問い合わせフォーム</h2>
        </header>

        <form id="contact-form" class="contact-form">
          <label for="name">名前</label>
          <input id="name" name="name" type="text" autocomplete="name" required />

          <label for="university">大学</label>
          <input id="university" name="university" type="text" required />

          <label for="email">メールアドレス</label>
          <input id="email" name="email" type="email" autocomplete="email" required />

          <label for="summary">お問い合わせ概要</label>
          <select id="summary" name="summary" required>
            <option value="研究訪問">研究訪問</option>
            <option value="その他">その他</option>
          </select>

          <label for="details">お問い合わせ詳細</label>
          <textarea id="details" name="details" rows="7" required></textarea>

          <button type="submit" class="btn">送信</button>
          <p id="form-notice" class="form-notice" aria-live="polite"></p>
        </form>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-inner">
        <div>
          <h2>お問い合わせ</h2>
          <p>広島大学大学院統合生命科学研究科 生物工学プログラム</p>
          <p>環境微生物工学研究室（廣田研究室）</p>
          <p>〒739-8530 東広島市鏡山1-3-1 広島大学先端科学総合研究棟</p>
          <p>502N（実験室）, 503N（居室）</p>
        </div>
        <div>
          <p>TEL (FAX): 082-424-7749 (7047)</p>
          <p>Email: <a href="mailto:hirota@hiroshima-u.ac.jp">hirota@hiroshima-u.ac.jp</a></p>
          <p>
            <a
              class="univ-link-image"
              href="https://www.hiroshima-u.ac.jp/"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img src="h1_title-1.png" alt="広島大学 公式サイト" loading="lazy" />
            </a>
          </p>
        </div>
      </div>
      <p class="copyright">© <span id="year"></span> Ryuichi Hirota Laboratory</p>
    </footer>

    <script>
      const siteHeader = document.querySelector('.site-header');
      const menuBtn = document.querySelector('.menu-btn');
      const menuList = document.querySelector('#menu-list');
      const syncHeaderOffset = () => {
        document.documentElement.style.setProperty('--header-offset', `${siteHeader.offsetHeight}px`);
      };

      menuBtn.addEventListener('click', () => {
        const expanded = menuBtn.getAttribute('aria-expanded') === 'true';
        menuBtn.setAttribute('aria-expanded', String(!expanded));
        menuList.classList.toggle('open');
        syncHeaderOffset();
      });

      window.addEventListener('resize', syncHeaderOffset);
      syncHeaderOffset();
      document.querySelector('#year').textContent = new Date().getFullYear();

      const form = document.querySelector('#contact-form');
      const notice = document.querySelector('#form-notice');
      form.addEventListener('submit', (event) => {
        event.preventDefault();

        const name = document.querySelector('#name').value.trim();
        const university = document.querySelector('#university').value.trim();
        const email = document.querySelector('#email').value.trim();
        const summary = document.querySelector('#summary').value;
        const details = document.querySelector('#details').value.trim();

        const subject = `[お問い合わせ] ${summary} / ${name}`;
        const body = [
          `名前: ${name}`,
          `大学: ${university}`,
          `メールアドレス: ${email}`,
          `お問い合わせ概要: ${summary}`,
          '',
          'お問い合わせ詳細:',
          details,
        ].join('\n');

        const mailto = `mailto:hirota@hiroshima-u.ac.jp?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
        notice.textContent = 'メールアプリを起動しています。起動しない場合はメールアドレスへ直接送信してください。';
        window.location.href = mailto;
      });
    </script>
  </body>
</html>
